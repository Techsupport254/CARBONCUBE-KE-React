<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Favicon and App Icons -->
		<link rel="icon" type="image/x-icon" href="%PUBLIC_URL%/favicon.ico" />
		<link
			rel="icon"
			type="image/png"
			sizes="16x16"
			href="%PUBLIC_URL%/favicon-16x16.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="%PUBLIC_URL%/favicon-32x32.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="48x48"
			href="%PUBLIC_URL%/favicon-48x48.png"
		/>
		<link rel="icon" type="image/svg+xml" href="%PUBLIC_URL%/favicon.svg" />
		<link
			rel="icon"
			type="image/png"
			sizes="96x96"
			href="%PUBLIC_URL%/favicon-96x96.png"
		/>

		<!-- Apple Touch Icons -->
		<link
			rel="apple-touch-icon"
			sizes="57x57"
			href="%PUBLIC_URL%/apple-touch-icon-57x57.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="60x60"
			href="%PUBLIC_URL%/apple-touch-icon-60x60.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="72x72"
			href="%PUBLIC_URL%/apple-touch-icon-72x72.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="76x76"
			href="%PUBLIC_URL%/apple-touch-icon-76x76.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="114x114"
			href="%PUBLIC_URL%/apple-touch-icon-114x114.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="120x120"
			href="%PUBLIC_URL%/apple-touch-icon-120x120.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="144x144"
			href="%PUBLIC_URL%/apple-touch-icon-144x144.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="152x152"
			href="%PUBLIC_URL%/apple-touch-icon-152x152.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="167x167"
			href="%PUBLIC_URL%/apple-touch-icon-167x167.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="180x180"
			href="%PUBLIC_URL%/apple-touch-icon-180x180.png"
		/>
		<link
			rel="apple-touch-icon"
			sizes="1024x1024"
			href="%PUBLIC_URL%/apple-touch-icon-1024x1024.png"
		/>
		<link rel="apple-touch-icon" href="%PUBLIC_URL%/apple-touch-icon.png" />
		<link
			rel="apple-touch-icon-precomposed"
			href="%PUBLIC_URL%/apple-touch-icon-precomposed.png"
		/>

		<!-- Android Chrome Icons -->
		<link
			rel="icon"
			type="image/png"
			sizes="36x36"
			href="%PUBLIC_URL%/android-chrome-36x36.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="48x48"
			href="%PUBLIC_URL%/android-chrome-48x48.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="72x72"
			href="%PUBLIC_URL%/android-chrome-72x72.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="96x96"
			href="%PUBLIC_URL%/android-chrome-96x96.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="144x144"
			href="%PUBLIC_URL%/android-chrome-144x144.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="192x192"
			href="%PUBLIC_URL%/android-chrome-192x192.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="256x256"
			href="%PUBLIC_URL%/android-chrome-256x256.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="384x384"
			href="%PUBLIC_URL%/android-chrome-384x384.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="512x512"
			href="%PUBLIC_URL%/android-chrome-512x512.png"
		/>

		<!-- PWA Icons -->
		<link
			rel="icon"
			type="image/png"
			sizes="192x192"
			href="%PUBLIC_URL%/logo192.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="512x512"
			href="%PUBLIC_URL%/logo512.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="192x192"
			href="%PUBLIC_URL%/web-app-manifest-192x192.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="512x512"
			href="%PUBLIC_URL%/web-app-manifest-512x512.png"
		/>

		<!-- Web App Manifest -->
		<link rel="manifest" href="%PUBLIC_URL%/manifest.webmanifest" />
		<link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
		<link rel="manifest" href="%PUBLIC_URL%/site.webmanifest" />

		<!-- Essential Meta Tags (React Helmet will handle dynamic ones) -->
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="theme-color" content="#ffc107" />
		<meta name="msapplication-TileColor" content="#ffc107" />
		<meta name="mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="default" />
		<meta name="apple-mobile-web-app-title" content="Carbon Cube Kenya" />
		<meta name="application-name" content="Carbon Cube Kenya" />

		<!-- Resource Hints for Performance - Optimized based on PageSpeed Insights -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link rel="preconnect" href="https://www.googletagmanager.com" />
		<link rel="preconnect" href="https://cdn.matomo.cloud" />
		<link rel="preconnect" href="https://res.cloudinary.com" />
		<link rel="dns-prefetch" href="https://www.googletagmanager.com" />
		<link rel="dns-prefetch" href="https://cdn.matomo.cloud" />
		<link rel="dns-prefetch" href="https://res.cloudinary.com" />
		<link rel="dns-prefetch" href="https://api.cloudinary.com" />

		<!-- Font Loading - Optimized for performance -->
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
			rel="preload"
			as="style"
			onload="this.onload=null;this.rel='stylesheet'"
		/>
		<noscript>
			<link
				href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
				rel="stylesheet"
			/>
		</noscript>

		<!-- Canonical URL -->
		<link rel="canonical" href="https://carboncube-ke.com/" />

		<!-- Analytics Loading - Completely deferred -->
		<script>
			// Defer analytics loading to improve initial page load
			window.addEventListener("load", function () {
				// Add a small delay to ensure page is fully loaded
				setTimeout(function () {
					// Google Analytics
					(function (i, s, o, g, r, a, m) {
						i["GoogleAnalyticsObject"] = r;
						(i[r] =
							i[r] ||
							function () {
								(i[r].q = i[r].q || []).push(arguments);
							}),
							(i[r].l = 1 * new Date());
						(a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
						a.async = 1;
						a.src = g;
						m.parentNode.insertBefore(a, m);
					})(
						window,
						document,
						"script",
						"https://www.googletagmanager.com/gtag/js?id=G-JCS1KWM0GH",
						"ga"
					);

					ga("create", "G-JCS1KWM0GH", "auto");
					ga("send", "pageview");

					// Matomo Analytics
					var _mtm = (window._mtm = window._mtm || []);
					_mtm.push({
						"mtm.startTime": new Date().getTime(),
						event: "mtm.Start",
					});
					var d = document,
						g = d.createElement("script"),
						s = d.getElementsByTagName("script")[0];
					g.async = true;
					g.src =
						"https://cdn.matomo.cloud/carboncubeke.matomo.cloud/container_6Rza2oIF.js";
					s.parentNode.insertBefore(g, s);
				}, 1000); // 1 second delay
			});
		</script>

		<!-- Google tag (gtag.js) -->
		<script
			async
			src="https://www.googletagmanager.com/gtag/js?id=AW-17543924705"
		></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag("js", new Date());

			gtag("config", "AW-17543924705");
		</script>

		<!-- Critical CSS for above-the-fold content -->
		<style>
			/* Critical styles for initial render */
			body {
				background-color: #f9fafb;
				margin: 0;
				padding: 0;
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
					"Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",
					"Helvetica Neue", sans-serif;
				-webkit-font-smoothing: antialiased;
				-moz-osx-font-smoothing: grayscale;
				line-height: 1.5;
			}

			#root {
				min-height: 100vh;
			}

			/* Critical loading spinner styles */
			.loading-spinner {
				display: flex;
				justify-content: center;
				align-items: center;
				min-height: 200px;
			}

			/* Critical navbar styles */
			.navbar {
				background-color: #ffffff;
				box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
				position: sticky;
				top: 0;
				z-index: 50;
			}

			/* Critical shop page styles */
			.min-h-screen {
				min-height: 100vh;
			}

			.bg-gray-50 {
				background-color: #f9fafb;
			}

			.flex {
				display: flex;
			}

			.flex-col {
				flex-direction: column;
			}

			.max-w-7xl {
				max-width: 80rem;
			}

			.mx-auto {
				margin-left: auto;
				margin-right: auto;
			}

			.px-2 {
				padding-left: 0.5rem;
				padding-right: 0.5rem;
			}

			.py-4 {
				padding-top: 1rem;
				padding-bottom: 1rem;
			}

			/* Critical product grid styles */
			.grid {
				display: grid;
			}

			.grid-cols-2 {
				grid-template-columns: repeat(2, minmax(0, 1fr));
			}

			.gap-2 {
				gap: 0.5rem;
			}

			/* Critical product card styles */
			.bg-white {
				background-color: #ffffff;
			}

			.rounded-xl {
				border-radius: 0.75rem;
			}

			.shadow-sm {
				box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
			}

			.border {
				border-width: 1px;
			}

			.border-gray-200 {
				border-color: #e5e7eb;
			}

			/* Critical image styles */
			img {
				max-width: 100%;
				height: auto;
				display: block;
			}

			.object-contain {
				object-fit: contain;
			}

			.w-full {
				width: 100%;
			}

			.h-full {
				height: 100%;
			}

			/* Critical responsive styles */
			@media (min-width: 640px) {
				.sm\:px-4 {
					padding-left: 1rem;
					padding-right: 1rem;
				}
				.sm\:py-8 {
					padding-top: 2rem;
					padding-bottom: 2rem;
				}
				.sm\:gap-3 {
					gap: 0.75rem;
				}
			}

			@media (min-width: 768px) {
				.md\:grid-cols-3 {
					grid-template-columns: repeat(3, minmax(0, 1fr));
				}
			}

			@media (min-width: 1024px) {
				.lg\:px-8 {
					padding-left: 2rem;
					padding-right: 2rem;
				}
				.lg\:grid-cols-4 {
					grid-template-columns: repeat(4, minmax(0, 1fr));
				}
				.lg\:gap-4 {
					gap: 1rem;
				}
			}

			@media (min-width: 1280px) {
				.xl\:grid-cols-5 {
					grid-template-columns: repeat(5, minmax(0, 1fr));
				}
			}
		</style>

		<!-- Non-critical CSS loading -->
		<script>
			// Load non-critical CSS after page load
			function loadCSS(href) {
				var link = document.createElement("link");
				link.rel = "stylesheet";
				link.href = href;
				link.media = "print";
				link.onload = function () {
					this.media = "all";
				};
				document.head.appendChild(link);
			}

			// Load CSS after DOM is ready
			document.addEventListener("DOMContentLoaded", function () {
				// Load any additional non-critical CSS here
			});
		</script>
	</head>

	<body style="background-color: #e0e0e0">
		<noscript>You need to enable JavaScript to run this app.</noscript>
		<div id="root"></div>
	</body>
</html>
